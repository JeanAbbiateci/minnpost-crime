<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<!--
  This template is a basic one for a Highcharts chart.

  See: http://www.highcharts.com/
-->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>MinnPost Interactive Project</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
  <link rel="shortcut icon" href="http://www.minnpost.com//sites/default/themes/siteskin/favicon.ico" type="image/x-icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1"></meta>


  <!--
    The area before the START: Embeddable is used to make the
    project act as much like the MinnPost site as possible
    to ensure best quality and ease of local development.
    
    The following links are to cached collections of
    CSS and JS and will change when the cache is cleared on
    the site.
    
    So, if your links are NOT MinnPost red, then you'll probably
    have to update this.
  -->
  <link type="text/css" rel="stylesheet" media="all" href="http://www.minnpost.com/sites/default/files/css/css_e1e628a1d1af71eb80119578f445aefe.css" />
  <link type="text/css" rel="stylesheet" media="screen" href="http://www.minnpost.com/sites/default/files/css/css_7c21f8513fb5bed4b20bcdfbd3425599.css" />
  <link type="text/css" rel="stylesheet" media="print" href="http://www.minnpost.com/sites/default/files/css/css_fcea2525eb0713a66c9fd404a556659e.css" />
  <!--[if IE]>
    <link rel="stylesheet" href="http://www.minnpost.com/sites/default/themes/derma/inc/css/ie.css?n" type="text/css">
  <![endif]-->
  
  <script type="text/javascript" src="http://www.minnpost.com/sites/default/files/js/js_9374db1ff1197a2d746a97396ed85cad.js"></script>
  <script type="text/javascript">
  <!--//--><![CDATA[//><!--
  jQuery.extend(Drupal.settings, {"basePath":"\/","combineBlocks":[["#block-views-most_viewed_by_taxonomy-block","#block-views-most_commented_articles-block_1"],["#block-views-most_viewed_by_node_type-block","#block-views-most_commented_blogs-block_1"],["#block-views-most_viewed_by_node_type-block","#block-views-most_commented_articles-block_1"]],"chartbeat":{"uid":27923,"domain":"minnpost.com","authors":"Tom Nehil,Alan Palazzolo","sections":"Data \u0026 Maps","title":"Build your own sales tax policy for Dayton\u0026#039;s new budget"},"googleanalytics":{"trackOutgoing":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip"},"addthis":{"config_default":{"services_toolbox":"facebook_like_counter, tweet, print, email","services_compact":"","services_expanded":"","ui_cobrand":"","ui_header_color":"#000000","ui_header_background":"#FFFFFF","ui_click":true,"ui_delay":"","ui_use_addressbook":0,"pubid":"xa-4e2cfd1147868c4e","data_track_clickback":0,"data_ga_tracker":0,"ui_use_css":true,"data_use_cookies":true,"ui_language":"en","data_use_flash":true},"share_default":{"templates":{"twitter":""}}}});
  //--><!]]>
  </script>
    
</head>
<body class="not-front logged-in page-node node-type-article one-sidebar sidebar-right admin-nw admin-vertical admin-df  section-data section-data-id-2012 section-data-id-2012-id-05 section-data-id-2012-id-05-how-we-built-legislative-bill-explorer one-sidebar sidebar-right">
<div class="outside-embeddable-container">



  <!-- 
    START: Embeddable
    
    This is where you start copying to embed into the
    content.  For full width articles, keep these classes
    on the following div (this ensures the correct
    font sizes).  If used in a regular article, remove
    the classes.
    
    For references, the classes are:
    node-body fieldlayout node-field-body
  -->
  <div class="node-body fieldlayout node-field-body">
  
    <!--
      Include any library or external CSS files below.
    -->
    <style type="text/css">
      @import url('./components/flurid-2.1/flurid.min.css');
    </style>
    
    
    <!--
      Include styles that are specific to your project.
      Do try to be specific as not to screw up styles
      on the site.
    -->
    <style type="text/css">
      /* Override so that it is easier to review interactive pieces. */
      body .node-unpublished {
        background-repeat: no-repeat;
      }
      
      .interactive-container  {
        max-width: 960px;
        margin: 0 auto;
        padding-top: 1em;
      }
      .interactive-container .footnote {
        font-size: .75em;
        font-style: italic;
        color: #414141;
        margin-top: 3em;
        border-top: 1px solid #BCBCBC;
        padding-top: 1em;
      }
    </style>

    <!-- Application CSS -->
    <style type="text/css">
      @import url('./css/style.css');
    </style>
    
    <!--
      The following are styles specific to:
        Less than or equal to IE 8,
        Less than or equal to IE 7
    -->
    
    <!--[if lte IE 8]>
      <style type="text/css">
      </style>
    <![endif]-->
    
    <!--[if lte IE 7]>
      <style type="text/css">
      </style>
    <![endif]-->
    


    <!--
      This is the HTML that will be output.  This
      container ensures that your container acts
      the MinnPost site as much as possible.
      
      Change the ID so that selectors will be specific
      to your project.
    -->
    <div class="interactive-container" id="minnpost-crime">
      <noscript>
        <p>This application requires Javascript which is used to make your web browser more interactive.  If this message does not go away, please consider enabling Javascript.  Here are <a href="http://www.enable-javascript.com/" target="_blank">instructions on how to enable JavaScript in your web browser</a>.</p>
      </noscript>
      
      <!--[if lte IE 7]>
        <div class="ie-upgrade-note">
          <h4>Consider upgrading your browser</h4>
          <p>Your <strong>Internet Browser</strong> is the application you use to navigate webpages on the internet.  You are currently using an older version of Internet Explorer.  This application may not be full-featured because you are using such an old browser.</p>
          
          <p><a href="http://browsehappy.com/" target="_blank">Click here to find out about upgrading to a newer browsers</a>.</p>
        
          <p>If you cannot install new applications on your computer (because it is not allowed at work, for example), consider using <a href="http://www.google.com/chromeframe" target="_blank">Google's Chrome Frame</a> for Internet Explorer.</p>
        </div>
      <![endif]-->
      
      <div class="base-container">
        <!--
          This is where your main HTML should go.
        -->
        
        <div>
          <h3>Demographics and Crime (2011)</h3>
          
          <form>
            <label for="demographics-select-1">Demographics 1:</label>
            <select name="demographics-select-1" id="demographics-select-1">
              <option value="none">None</option>
            </select> <br />
            
            <label for="demographics-select-3">Demographics 2:</label>
            <select name="demographics-select-2" id="demographics-select-2">
              <option value="none">None</option>
            </select> <br />
            
            <a href="#" id="demographics-submit">Update</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            [<a href="#" id="demographics-load-data">Load data</a>]
          </form>
            
          <div id="demographic-chart"></div>
          <div class="clear-block">
            <div id="demographic-map-1"></div>
            <div id="demographic-map-2"></div>
          </div>
        </div>
        
        <div>
          <h3>Crime maps (2011)</h3>
          
          <form>
            <label for="crime-type-select">Crime type:</label>
            <select name="crime-type-select" id="crime-type-select">
              <option value="homicide">homicide</option>
              <option value="rape">rape</option>
              <option value="robbery">robbery</option>
              <option value="agg_assault">agg_assault</option>
              <option value="burglary">burglary</option>
              <option value="larceny">larceny</option>
              <option value="auto_theft">auto_theft</option>
              <option value="arson">arson</option>
              <option value="total" selected="selected">total</option>
            </select>
          </form>
          
          <div class="map-container" id="crime-map"></div>
        </div>
        
        <div>
          <h3>Crime charts</h3>
          
          <form>
            <label for="neighborhood-select">Neighborhood list:</label>
            <select name="neighborhood-select" id="neighborhood-select">
              <option value="none">None</option>
            </select>
            
            <label for="max-select">Max:</label>
            <select name="max-select" id="max-select">
              <option value="auto">auto</option>
              <option value="50">50</option>
              <option value="100">100</option>
              <option value="150">150</option>
              <option value="200">200</option>
              <option value="250">250</option>
              <option value="500">500</option>
              <option value="1000">1000</option>
              <option value="3000">3000</option>
            </select>
            
            <label for="chart-by-select">By:</label>
            <select name="chart-by-select" id="chart-by-select">
              <option value="month">Month</option>
              <option value="year">Year</option>
            </select>
            
            &nbsp;&nbsp;<a href="#update-chart" class="update-chart">Update</a>
          </form>
        </div>
        <div class="highchart-container" id="chart-example"></div>
      </div>
      
      <div class="footnote">
        <p>Link to specific data sources.  Use as specific URL as you can and use the _blank target so that the link open in a new window. <a href="http://google.com" target="_blank">Google</a>.  Code, techniques, and data on <a href="https://github.com/MinnPost" target="_blank">Github</a>.</p>
      </div>
    </div>
    
    
    <!--
      The following are templates that will be used
      through Javascript.  They should be written in
      Underscore.js templating markup.
      
      See: http://underscorejs.org/#template
    -->
    <script id="template-loading" type="text/template">
      <div class="loading-general-container">
        <div class="loading-general"><span>Loading...</span></div>
      </div>
    </script>
    
    <script id="template-tooltip-crime" type="text/template">
      <h4><%= properties.Name %></h4>
      
      <div>Total: <%= properties['total'] %></div>
      <div>Homicide: <%= properties['homicide'] %></div>
      <div>Rape: <%= properties['rape'] %></div>
      <div>Agg Assault: <%= properties['agg_assault'] %></div>
      <div>Robbery: <%= properties['robbery'] %></div>
      <div>Burglary: <%= properties['burglary'] %></div>
      <div>Larceny: <%= properties['larceny'] %></div>
      <div>Auto Theft: <%= properties['auto_theft'] %></div>
      <div>Arson: <%= properties['arson'] %></div>
    </script>
    
    <script id="template-tooltip-demographics" type="text/template">
      <h4><%= properties.Name %></h4>
      
      <div>
        {{{PROP1}}}: <%= properties['{{{PROP1}}}'] %>
      </div>
      <div>
        {{{PROP2}}}: <%= properties['{{{PROP2}}}'] %>
      </div>
    </script>
    
    


    <!-- 
      Include Javascript libraries here.
      
      The bits around the inclusion of the libraries
      provides a temporary hack around jQuery so we
      can use a newer version.
      
      JS and other relevant libraries are hosted on our
      AWS S3 account.  This ensures we do not have to
      embed them or otherwise manage them on the MinnPost
      site which would be a pain.  We can also leverage
      using the same source across projects.
      
      You are welcome to use hosted/CDN versions of
      libraries, but do ensure you are using a specific
      version.  DO NOT use the latest, or latest-stable,
      or development versions of hosted libraries
      as they are subject to change and will eventutally
      break, creating more work for us.
    -->
    <script type="text/javascript">
      // Hack around existing jQuery
      if (jQuery) {
        window._jQuery = window.jQuery;
        window._$ = window.$;
      }
    </script>
    
    <script type="text/javascript" src="./components/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="./components/jquery.jsonp-2.4.0.min.js"></script>
    <script type="text/javascript" src="./components/underscore-1.4.4.min.js"></script>
    <script type="text/javascript" src="./components/backbone-1.0.0.min.js"></script>
    <script type="text/javascript" src="./components/d3-3.1.5.min.js"></script>
    <script type="text/javascript" src="./components/topojson-1.0.0.min.js"></script>
    <script type="text/javascript" src="./components/simple-map-d3-master-20130410.js"></script>
    
    

    <!--
      Using hosted CDN version of Highcharts, note that
      it is a specific version.
    -->
    <script type="text/javascript" src="http://code.highcharts.com/2.2.4/highcharts.js"></script>
    <script type="text/javascript" src="http://code.highcharts.com/2.2.4/modules/exporting.js"></script>

    <script type="text/javascript" src="./js/charts.js"></script>
    <script type="text/javascript" src="./js/maps.js"></script>
    <script type="text/javascript" src="./js/demographics.js"></script>


    <!--
      Please follow the JS coding guidelines that
      can be found here:
      https://github.com/MinnPost/javascript
    -->
    <script type="text/javascript">
      
      $(document).ready(function() {
        mapper();
        demographics();
      });
    
    </script>
    
    
    <script type="text/javascript">
      // Hack back in the original jQuery
      if (window._jQuery) {
        window.jQuery = window._jQuery;
        window.$ = window._$;
      }
    </script>
  </div>
  
  
  <!--
    END: Embeddable
  
    Stop copying.
  -->



</div>
</body>
</html>